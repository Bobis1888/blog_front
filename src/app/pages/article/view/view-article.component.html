<div *ngIf="content" class="content" [ngClass]="{mobile: isMobile}">

  <ng-container [ngSwitch]="state">
    <ng-container
      *ngSwitchCase="'data'"
      [ngTemplateOutlet]="data"
    ></ng-container>

    <ng-container
      *ngSwitchCase="'empty'"
      [ngTemplateOutlet]="empty"
    ></ng-container>

    <ng-container
      *ngSwitchCase="'loading'"
      [ngTemplateOutlet]="load"
    ></ng-container>

    <ng-container *ngSwitchDefault [ngTemplateOutlet]="data"></ng-container>
  </ng-container>


</div>


<ng-template #data>

  <h1>{{ content.title }}</h1>

  <span *ngIf="content.publishedDate"
        class="date">{{ 'viewArticlePage.publishedDate' | translate : {date: (content.publishedDate | date : "YYYY.MM.dd")} }}</span>

  <div class="tags">
    <span class="tags-title">{{ 'viewArticlePage.tags' | translate }}</span>
    <span>&nbsp;</span>
    <span class="tag" (click)="goToSearch(tag)" *ngFor="let tag of ['#english', '#shortStory']">{{ tag }}</span>
  </div>

  <br>

  <p [innerHTML]="content.content"></p>


  <div class="footer">
    <div class="buttons">
      <button mat-icon-button (click)="share()">
        <mat-icon>share</mat-icon>
      </button>
      <button mat-icon-button (click)="like()">
        <mat-icon>{{ content.isLiked ? 'favorite' : 'favorite_border' }}</mat-icon>
      </button>
      <button mat-icon-button (click)="bookmark()">
        <mat-icon>{{ content.isFavorite ? 'bookmark' : 'bookmark_border' }}</mat-icon>
      </button>
      <button
        *ngIf="content.status == Status.draft && authService.isAuthorized"
        mat-icon-button
        routerLink="/article/edit/{{ content.id }}"
      >
        <mat-icon>{{ 'edit' }}</mat-icon>
      </button>

    </div>
    <div class="author">
      <span (click)="goToUser(content.authorName)">{{ content.authorName }}</span>
    </div>
  </div>
</ng-template>

<ng-template #empty>
  {{ 'viewArticlePage.empty' | translate }}
</ng-template>

<ng-template #load>
  <br>
  <ngx-skeleton-loader count="1" [theme]="{width: '50%'}"></ngx-skeleton-loader>
  <br>
  <ngx-skeleton-loader count="1" [theme]="{width: '75%'}"></ngx-skeleton-loader>
  <br>
  <ngx-skeleton-loader count="7"></ngx-skeleton-loader>
  <br>
  <ngx-skeleton-loader count="1" [theme]="{width: '25%'}"></ngx-skeleton-loader>
  <br>
</ng-template>
